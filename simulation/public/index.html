<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My Little Galapagos</title>
    <meta name="viewport"
      content="width=device-width,initial-scale=1.0,
      minimum-scale=1.0,maximum-scale=1.0" />
    <script type="importmap">
      {
        "imports": {
          "three": "./build/three.module.js"
        }
      }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script type="module" src="client.js" defer></script>
    <script type="module" src="chart.js" defer></script>

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/statstyle.css">
    <link rel="stylesheet" href="css/creaturestyle.css">
    <link rel="stylesheet" href="css/envstyle.css">
    <link rel="stylesheet" href="css/disasterstyle.css">
    <link rel="stylesheet" href="css/guide.css">
  </head>
 
  <body style="margin:0;padding:0;overflow:hidden">
    <title id="title">나.작.갈</title>

    <div class="canvas">
      <canvas id="c"></canvas>
    </div>
    <div class="date">
      <div id="dday">
      </div>
      <div id="calender">
      </div>
      
    </div>
    
    <div class="guidebox" >

      <div class="upper-right-block">
      <button class='cancel-button' id="guide-cancel"><i class="fa fa-times" aria-hidden="true"></i> cancel</button>
      </div>

      <div id = "introduce_page">
        <h1>- introduce -</h1>
        <div id = "playimage">
          <div id="mar1">
            <h2>- 이 게임은 갈라파고스 섬처럼 독립된 환경에서 생명체들이 각 환경에 어떻게 적응하며 변화하는지를 보기 위한 시뮬레이션입니다.</h2>
            <h2>- player는 자신이 원하는대로 생명체를 탄생시키거나 환경을 바꾸거나 재앙을 발생시켜 어떻게 생명체들이 바뀌어가는지 시뮬레이션을 해볼 수 있습니다.</h2>
            <h2>- 각 생명체들은 매년 마다 체력이 충분하면 새끼를 낳게 되는데 이때 일정확률로 성질 5개 중에 2개가 바뀌는 돌연변이가 나타납니다.</h2>
            <h2>- 각 생명체들은 현재 자신이 위치한 환경에 따라 적응력이 없으면 추가적인 체력소모를 합니다</h2>
          </div>
        </div>
      </div>
      <div id = "creature_page">
        <h1>- creature -</h1>
          <ul>
            <div><div id = "food"></div><h2>- 식물 -</h2></div>
            <div><div id = "preyimage"></div><h2>- 피식자 -</h2></div>
            <div><div id = "predetorimage"></div><h2>- 포식자 -</h2></div>
          </ul>
      </div>
      <div id = "creature_create_page">
        <h1>- creature_create -</h1>
        <ul>
          <div>
            <div id = "selectCreature"></div>
            <h2>바를 움직여 능력치 선택 후 confirm</h2>
          </div>
          <div>
            <div id = "selectCreature2"></div>
            <h2>마우스로 원하는 위치에 클릭 후 release</h2>
          </div>
        </ul>
      </div>
      <div id = "environment">
        <h1>- environment -</h1>
        <ul>
          <div>
            <div id = "g_envs"></div>
            <h2>초원, 정글, 툰드라, 사막 타일이 있습니다</h2>
            <h2>각 타일에 마우스를 대면 타일의 특성이 보입니다</h2>
          </div>
          <div>
            <div id = "g_env"></div>
            <h2>각 타일을 drag&drop 하여 원하는 위치에 놓습니다</h2>
          </div>
        </ul>
      </div>

      <div id = "disaster">
        <h1>- disaster -</h1>
        <div>
            <div id = "g_disaster"></div>
            <div>
              <h2>번개, 운석, 빙하기, 지구온난화를 만들 수 있습니다.</h2>
              <h2>버튼을 눌러 자연재해들을 원할 때 만들 수 있습니다</h2>
              <h2>어떤 일이 일어날지 한 번 해보세요 :)</h2>
            </div>
        </div>
      </div>

      <div id = "graph">
        <h1>- graph -</h1>
        <ul>
          <div>
            <div id = "g_graph1"></div>
            <h2><현재 전체 개체수 비율></h2>
          </div>
          <div>
            <div id = "g_graph2"></div>
            <h2><개체수 변화 연대기></h2>
          </div>
          <div>
            <ul>
              <div id = "g_graph3-1"></div>
              <div id = "g_graph3-2"></div>
            </ul>
            <h2><보고싶은 grid를 선택하면 그 grid의 개체수 평균 특성></h2>
          </div>
        </ul>
      </div>
      <div id = "etc">
        <h1>- etc -</h1>
        <ul>
          <div>
            <div id = "g_speed"></div>
            <h2><일정시간이 지난 시점으로 이동하거나 속도 조절 가능></h2>
          </div>
          <div>
            <div id = "g_spacebar"></div>
            <h2><spacebar를 누르면 초기 카메라 위치로 갑니다></h2>
          </div>
        </ul>
      </div>
    </div>
    
    <div class="settingbox">

      <div class="controlbar">
        <button class="button" id="creatureBtn">creature</button>
        <button class="button" id="envBtn">env</button>
        <button class="button" id="disasterBtn">disasters</button>
        <button class="button" id="guideBtn">Guide</button>
      </div>

      <dialog id="creatureDialog">
        <!-- <form method="dialog"> -->
        <div id="dialogContainer">
          <div id="previewContainer">
            <div id="preview"></div>
          </div>

          <div id="featureList">
            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Property</label>
                <label><input class="creatureInput" type="radio" id="prey" name="property" value="prey">Prey</label>
                <label><input  class="creatureInput" type="radio" id="predetor"name="property" value="predetor">Predetor</label>
              </form>
            </div>

            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Speed</label>
                <output id="speedP">3</output>
                <input  class="creatureInput" type="range" id="speed" min="1" max="5">
              </form>
            </div>
            
            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Visible Range</label>
                <output id="sightP">3</output>
                <input  class="creatureInput" type="range" id="sight" min="1" max="5">
              </form>
            </div>
            
            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Cold Resistance</label>
                <output id="coldP">3</output>
                <input  class="creatureInput" type="range" id="cold" min="1" max="5">
              </form>
            </div>
            
            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Hot Resistance</label>
                <output id="hotP">3</output>
                <input  class="creatureInput" type="range" id="hot" min="1" max="5">
              </form>
            </div>
            
            <div id="featureBar">
              <form action="'/action_page.php" method="get">
                <label for="vol" class="featureTag">Energy Efficiency</label>
                <output id="effP">3</output>
                <input  class="creatureInput" type="range" id="eff" min="1" max="5">
              </form>
            </div>
            <div class="errorMsg"></div>
            <div class="btn-row">
              <button id="previewBtn"><i class="fa fa-magic" aria-hidden="true"></i>  preview</button>
              <button class="cancel-button" id="cancelBtn" type="reset"><i class="fa fa-times" aria-hidden="true"></i>  cancel</button>
              <button class="confirm-button" id="confirmBtn"><i class="fa fa-check" aria-hidden="true"></i>  confirm</button>
              <button class="confirm-button2" id="gridConfirmBtn"><i class="fa fa-check" aria-hidden="true"></i> release</button>
        
            </div>
          </div>
        </div>
        <!-- </form> -->
        <div id="gridmapContainer">
          <div class="grid-container">
            <canvas class="grid-item" id="00"></canvas>
            <canvas class="grid-item" id="10"></canvas>
            <canvas class="grid-item" id="20"></canvas>
            <canvas class="grid-item" id="30"></canvas>
            
            <canvas class="grid-item" id="01"></canvas>
            <canvas class="grid-item" id="11"></canvas>
            <canvas class="grid-item" id="21"></canvas>
            <canvas class="grid-item" id="31"></canvas>
            
            <canvas class="grid-item" id="02"></canvas>
            <canvas class="grid-item" id="12"></canvas>
            <canvas class="grid-item" id="22"></canvas>
            <canvas class="grid-item" id="31"></canvas>
            
            <canvas class="grid-item" id="03"></canvas>
            <canvas class="grid-item" id="13"></canvas>
            <canvas class="grid-item" id="23"></canvas>
            <canvas class="grid-item" id="33"></canvas>
          </div>
        </div>
      </dialog>

      <dialog id="envDialog">
        <!-- <div class="dialog-body-flex"> -->
        <div id="imageContainer">
            
          <div class="tooltip"> Meadow
            <span class="tooltiptext">hot: 1 cold: 1</span>
            <img class="draggableItem" id="grass" draggable="true" src="assets/grass_texture.jpg"></img>
          </div>
          
          <div class="tooltip"> Jungle
            <span class="tooltiptext">hot: 3 cold: 3</span>
            <img class="draggableItem" id="jungle" draggable="true" src="assets/jungle_texture.jpg"></img>
          </div>
          
          <div class="tooltip"> Tundra
            <span class="tooltiptext">hot: 1 cold: 5</span>
            <img class="draggableItem" id="glacier" draggable="true" src="assets/glacier_texture.jpg"></img>
          </div>
          
          <div class="tooltip"> Desert
            <span class="tooltiptext">hot: 5 cold: 1</span>
            <img class="draggableItem" id="desert" draggable="true" src="assets/desert_texture.jpg"></img>
          </div>
      </div>
  
          <div id="envGrids">
            <div class="grid-container-env">
              <div class="grid-item-env" id="00"></div>
              <div class="grid-item-env" id="10"></div>
              <div class="grid-item-env" id="20"></div>
              <div class="grid-item-env" id="30"></div>
              
              <div class="grid-item-env" id="01"></div>
              <div class="grid-item-env" id="11"></div>
              <div class="grid-item-env" id="21"></div>
              <div class="grid-item-env" id="31"></div>
              
              <div class="grid-item-env" id="02"></div>
              <div class="grid-item-env" id="12"></div>
              <div class="grid-item-env" id="22"></div>
              <div class="grid-item-env" id="32"></div>
              
              <div class="grid-item-env" id="03"></div>
              <div class="grid-item-env" id="13"></div>
              <div class="grid-item-env" id="23"></div>
              <div class="grid-item-env" id="33"></div>
            </div>
          </div>
        <!-- </div> -->
        <div id="envGrids">
          <button class='cancel-button' id="envCancel"><i class="fa fa-times" aria-hidden="true"></i> cancel</button>
          <button class='confirm-button' id="envConfirm"><i class="fa fa-check" aria-hidden="true"></i> confirm</button>
        </div>
        </dialog>

      <dialog id="disasterDialog">
        <div class="upper-right-block">
          <button class='cancel-button' id="disasterCancel"><i class="fa fa-times" aria-hidden="true"></i> cancel</button>
        </div>
        <div id="buttonContainer">
          <button class='disaster-btn' id="lightningBtn">Lightning
            <span class="btntiptext">타일 하나에 벼락을 내려 멸망시킵니다</span>
          </button>
          <button class='disaster-btn' id="meteorBtn">Meteor
            <span class="btntiptext">랜덤으로 8개 타일을 멸망시킵니다</span>
          </button>
          <button class='disaster-btn' id="iceAgeBtn">Ice Age
            <span class="btntiptext">빙하기가 와 3년간 온도가 낮아집니다</span>
          </button>
          <button class='disaster-btn' id="globalWarmingBtn">Global Warming
            <span class="btntiptext">되돌릴 수 없는 재앙 지구온난화가 옵니다</span>
          </button>
        </div>

        <div id="gridmapLightning">
          <div class="grid-container-small">
            <div class="grid-item-small" id="00"></div>
            <div class="grid-item-small" id="10"></div>
            <div class="grid-item-small" id="20"></div>
            <div class="grid-item-small" id="30"></div>
            
            <div class="grid-item-small" id="01"></div>
            <div class="grid-item-small" id="11"></div>
            <div class="grid-item-small" id="21"></div>
            <div class="grid-item-small" id="31"></div>
            
            <div class="grid-item-small" id="02"></div>
            <div class="grid-item-small" id="12"></div>
            <div class="grid-item-small" id="22"></div>
            <div class="grid-item-small" id="32"></div>
            
            <div class="grid-item-small" id="03"></div>
            <div class="grid-item-small" id="13"></div>
            <div class="grid-item-small" id="23"></div>
            <div class="grid-item-small" id="33"></div>
          </div>
        </div>
        </dialog>
    </div>


    <div class="rightsidedBox">
      <div id="speedControlBar">
        <button type="button" class="btn" id="skip1"><i class="fa fa-forward" aria-hidden="true"></i></button>
        <button type="button" class="btn" id="skip5"><i class="fa fa-fast-forward" aria-hidden="true"></i></button>
        <button type="button" class="btn" id="aniplay"><i class="fa fa-play" aria-hidden="true"></i></button>
        <button type="button" class="btn" id="pause"><i class="fa fa-pause" aria-hidden="true"></i></button>
        <input type="range" id="framecount" min="1" max="30">
        <output id="frameNum">15</output>
    </div>

    <div class="statisticBox">
      <ul>
        <li><a id="currentCreature">현재 개체수</a></li>
        <li><a id="changeCreature">개체수 변화</a></li>
        <li><a id="creatureCharacter">지역별 성격</a></li>
      </ul>
      <div class="chartContainer">
        <div class="upper-right-block" id="statcontrolBtn">
          <button class='cancel-button' id="graph-goback"><i class="fa fa-arrow-left" aria-hidden="true"></i>  goback</button>
          <button class='cancel-button' id="gragh-cancel"><i class="fa fa-times" aria-hidden="true"></i>  close</button>
        </div>
        <canvas id="cur-chart"></canvas>
        <canvas id="line-chart"></canvas>
        <canvas id="char-chart"></canvas>
        <div id="selectgridMap">
          <div class="grid-c">
            <canvas class="grid-" id="00"></canvas>
            <canvas class="grid-" id="10"></canvas>
            <canvas class="grid-" id="20"></canvas>
            <canvas class="grid-" id="30"></canvas>
            
            <canvas class="grid-" id="01"></canvas>
            <canvas class="grid-" id="11"></canvas>
            <canvas class="grid-" id="21"></canvas>
            <canvas class="grid-" id="31"></canvas>
            
            <canvas class="grid-" id="02"></canvas>
            <canvas class="grid-" id="12"></canvas>
            <canvas class="grid-" id="22"></canvas>
            <canvas class="grid-" id="32"></canvas>
            
            <canvas class="grid-" id="03"></canvas>
            <canvas class="grid-" id="13"></canvas>
            <canvas class="grid-" id="23"></canvas>
            <canvas class="grid-" id="33"></canvas>
          </div>
        </div>
      </div> 
    </div>
  </body>
</html> 